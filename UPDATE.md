# Система управления версиями NexusAnikokoro v1

## Содержание
1. [Общая информация](#общая-информация)
2. [Форматы коммитов](#форматы-коммитов)
3. [Управление версиями](#управление-версиями)
4. [Релизы](#релизы)
5. [Автоматизация](#автоматизация)

## Общая информация

Проект использует семантическое версионирование (MAJOR.MINOR.PATCH):
- MAJOR - критические изменения, нарушающие обратную совместимость
- MINOR - новые функции, не нарушающие обратную совместимость
- PATCH - исправления ошибок и мелкие улучшения

## Форматы коммитов

### Структура коммит-сообщения
```
<тип>(<область>): <описание>
```

### Типы коммитов
- `feat`: новая функциональность
- `fix`: исправление ошибок
- `docs`: изменения в документации
- `style`: изменения стилей и форматирования
- `refactor`: рефакторинг кода
- `test`: добавление или изменение тестов
- `chore`: обслуживание проекта

### Примеры
```bash
feat(api): добавлен новый эндпоинт для поиска
fix(ui): исправлено отображение карточек
docs(readme): обновлена документация по установке
```

## Управление версиями

### Команды
- `npm run version:patch` - увеличение PATCH версии (0.1.0 -> 0.1.1)
- `npm run version:minor` - увеличение MINOR версии (0.1.0 -> 0.2.0)
- `npm run version:major` - увеличение MAJOR версии (0.1.0 -> 1.0.0)
- `npm run changelog` - обновление только CHANGELOG.md
- `npm run release` - создание нового релиза

### Автоматическое обновление
При каждом коммите:
1. Проверяется формат коммит-сообщения
2. Увеличивается PATCH версия
3. Обновляется CHANGELOG.md
4. Создается Git-тег

## Релизы

### Создание релиза
```bash
npm run release
```

Это действие:
1. Создает ветку release/vX.X.X
2. Генерирует RELEASE_NOTES.md
3. Создает коммит с релизными заметками

### Структура релиза
- Ветка: release/vX.X.X
- Тег: vX.X.X
- Файлы:
  - CHANGELOG.md - история изменений
  - RELEASE_NOTES.md - заметки о релизе

## Автоматизация

### Git Hooks
- `pre-commit`: автоматическое обновление версии
- `commit-msg`: проверка формата коммит-сообщения

### Файлы
- `version-bump.js` - скрипт обновления версии
- `create-release.js` - скрипт создания релиза

### Теги
Теги создаются автоматически при:
- Обновлении версии
- Создании релиза

## Примеры использования

### Обычная разработка
```bash
git add .
git commit -m "feat(component): добавлена новая функция"
# Автоматически: обновление версии, CHANGELOG и создание тега
```

### Создание релиза
```bash
# Увеличение версии вручную (если нужно)
npm run version:minor

# Создание релиза
npm run release

# Слияние и публикация
git checkout main
git merge release/vX.X.X
git push origin main --tags
```

### Просмотр изменений
```bash
# Просмотр CHANGELOG
cat CHANGELOG.md

# Просмотр тегов
git tag -l

# Просмотр релизных заметок
cat RELEASE_NOTES.md
``` 